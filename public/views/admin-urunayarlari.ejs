<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Ayarları</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="../css/admin-style.css" />
    <link rel="stylesheet" href="../css/admin-urunayarlari-style.css">
</head>
<body>
    
    
    <!-- Navbar -->
    <div class="navbar">
        <div class="menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div>
        <h1>BURGERCIM</h1>
        </div>
    
    </div>

    <div class="off-screen-menu">
        <ul>
            <span><li><a href="/admin/siparisler" class="menu-links">Siparişler</a></li></span>
            <span><li><a href="/admin/gunsonu" class="menu-links">Gün Sonu</a></li></span>
            <span><li><a href="/admin/urunayarlari" class="menu-links">Ürün Ayarları</a></li></span>
        </ul>
    </div>

    <div class="conteiner">
        <div class="baslik-kutu"><h1>Ürün Ayarları</h1></div>

        <div class="urunEkle-conteiner">
        <form id="urunForm" class="urunlerform" enctype="multipart/form-data"  method="POST">
            <div><input type="text" name="urunAd" placeholder="Ürün İsmi" required></div>
            <div><input type="number" name="fiyat" placeholder="Fiyat" step="0.01" required></div>
            <div><select name="kategori" required>
            <option value="-1">Kategori Seç</option>
            <% categories.forEach(category => { %>
             <option value="<%= category.kategoriId %>"><%= category.kategoriAd %></option>
            <% }) %>
            </select></div>
            <div><input type="file" name="resim" accept="image/*" required></div>
            <div><button type="submit">Ürün Ekle</button></div>
        </form>
        </div>

        <div>

            <div class="urun-listesi">
            <h2>Ürün Listesi</h2>
            <div class="table-container">
                <table class="urun-tablosu">
                    <thead>
                        <tr>
                            <th class="col-id">ID</th>
                            <th class="col-isim">Ürün İsmi</th>
                            <th class="col-fiyat">Fiyat</th>
                            <th class="col-resim">Resim</th>
                            <th class="col-kategori">Kategori</th>
                            <th class="col-islemler">İşlemler</th>
                        </tr>
                    </thead>
                    <tbody>

                        <% urunler.forEach(function(urun)  { %>
                         

                            <tr>
                            <td class="col-id"><%= urun.urunid %></td>
                            <td class="col-isim"><%= urun.urunAd %></td>
                            <td class="col-fiyat"><%= urun.fiyat %> TL</td>
                            <td class="col-resim"><img src="/Images/<%= urun.resim %>" alt="Klasik Hamburger" class="urun-resmi"></td>
                            <td class="col-kategori"><%= urun.kategoriAd %></td>
                            <td class="col-islemler">
                                <button class="duzenle-btn">Düzenle</button>
                                <button class="sil-btn">Sil</button>
                            </td>
                        </tr>


                        <% }) %>
                        
                        
                        
                    </tbody>
                </table>
            </div>
        </div>

        </div>

        
    </div>

    <!-- Silme Uyari Ekrani -->
    <div id="sil-modal" class="modal" style="display:none;">
    <div class="modal-content">
        <p>Bu ürünü silmek istediğinize emin misiniz?</p>
        <button id="modal-kabul" class="btn btn-danger">Evet, Sil</button>
        <button id="modal-iptal" class="btn btn-secondary">Vazgeç</button>
    </div>
    </div>

        <!-- Düzenleme Modalı -->
    <div id="duzenle-modal" class="modal" style="display:none;">
    <div class="modal-content">
        <h3>Ürünü Düzenle</h3>
        <form id="duzenleForm" enctype="multipart/form-data">
        <input type="hidden" name="urunid" id="duzenle-urunid">
        <div><input type="text" name="urunAd" id="duzenle-urunAd" placeholder="Ürün İsmi" required></div>
        <div><input type="number" name="fiyat" id="duzenle-fiyat" placeholder="Fiyat" step="0.01" required></div>
        <div>
            <select name="kategori" id="duzenle-kategori" required>
            <option value="-1">Kategori Seç</option>
            <% categories.forEach(category => { %>
                <option value="<%= category.kategoriId %>"><%= category.kategoriAd %></option>
            <% }) %>
            </select>
        </div>
        <div>
            <label>Yeni Resim (İsteğe Bağlı):</label>
            <input type="file" name="resim" id="duzenle-resim" accept="image/*">
        </div>
        <div class="duzenle-btnlar">
        <div><button type="submit" class="duzenle-kaydet-btn">Kaydet</button></div>
        <div><button type="button" id="modal-kapat">Kapat</button></div>
        </div>
        </form>
    </div>
    </div>



<script src="../js/admin.js"></script>
</body>
</html>